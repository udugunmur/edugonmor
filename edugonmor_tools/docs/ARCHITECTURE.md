# Arquitectura del Sistema

Este documento describe la arquitectura del sistema edugonmor_tools.

## ğŸ“‹ VisiÃ³n General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    edugonmor_tools                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              edugonmor_tools_network                     â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Portainer CE        â”‚  â”‚  Backup Service          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  (services)          â”‚  â”‚  (backup)                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                      â”‚  â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ğŸ“Š Dashboard        â”‚  â”‚  ğŸ• Cron Job (03:00 AM)  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ğŸ³ Docker Mgmt     â”‚  â”‚  ğŸ“¦ Tar Compress         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  ğŸ“ˆ Monitoring       â”‚  â”‚  ğŸ—‘ï¸ Retention (10 days)  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                      â”‚  â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Ports: 9443, 9000   â”‚  â”‚                          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â”‚                           â”‚                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                           â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ edugonmor_tools_    â”‚     â”‚ edugonmor_tools_    â”‚           â”‚
â”‚  â”‚ volumen             â”‚â”€â”€â”€â”€â–¶â”‚ backups             â”‚           â”‚
â”‚  â”‚ (Datos Portainer)   â”‚     â”‚ (Rclone Mount)      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                        â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  edugonmor_rclone   â”‚
                              â”‚  (Cloud Sync)       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Componentes

### 1. Portainer CE Service

| Aspecto | Detalle |
|---------|---------|
| **Imagen** | `portainer/portainer-ce:latest` |
| **Contenedor** | `edugonmor_tools_services` |
| **Puertos** | 9443 (HTTPS), 9000 (HTTP) |
| **VolÃºmenes** | Docker socket, datos persistentes |
| **FunciÃ³n** | GestiÃ³n visual de contenedores Docker |

### 2. Backup Service

| Aspecto | Detalle |
|---------|---------|
| **Imagen** | `alpine:3.19` |
| **Contenedor** | `edugonmor_tools_backup` |
| **ProgramaciÃ³n** | Diario a las 03:00 AM |
| **RetenciÃ³n** | 10 dÃ­as |

### 3. Red

| Aspecto | Detalle |
|---------|---------|
| **Nombre** | `edugonmor_tools_network` |
| **Driver** | `bridge` |

### 4. VolÃºmenes

| Volumen | Tipo | DescripciÃ³n |
|---------|------|-------------|
| `edugonmor_tools_volumen` | Docker Volume | Datos de Portainer |
| `edugonmor_tools_backups` | Bind Mount | ConexiÃ³n a Rclone |

## ğŸ” Seguridad

- `no-new-privileges:true`: Evita escalada de privilegios
- Red aislada: ComunicaciÃ³n solo dentro de la red definida
- ContraseÃ±a hasheada: bcrypt para credenciales
